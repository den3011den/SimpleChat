<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
    <changeSet id="db.creation" author="bds">
        <sql>
            create table USERS
            (
            ID INTEGER AUTO_INCREMENT(1,1) PRIMARY KEY,
            LOGIN VARCHAR(50) not null
            constraint USERS_LOGIN_UINDEX unique,
            PASSWORD VARCHAR(100) not null
            );
            comment on table USERS is 'Пользователи чата';

            INSERT INTO PUBLIC.USERS (ID, LOGIN, PASSWORD) VALUES (1, 'user 1',
            '$2a$10$O/VceVksPJ8ijmVMeJ/tBunThwb0Ygtulme4OT/h8aKRzm/cVnYYm');
            INSERT INTO PUBLIC.USERS (ID, LOGIN, PASSWORD) VALUES (2, 'user 2',
            '$2a$10$31Rybrw8xcu5tG9fIp0ePOwIwxbJqOpI8BgLqiFwlgL9gsOX5i0xe');
            INSERT INTO PUBLIC.USERS (ID, LOGIN, PASSWORD) VALUES (3, 'user 3',
            '$2a$10$cNbG6U/o5nZRXb73sZrF5eFw8t0rey5Gb6/URwYNP6tg.YPOqxauG');
            INSERT INTO PUBLIC.USERS (ID, LOGIN, PASSWORD) VALUES (4, 'user 4',
            '$2a$10$kcWHKwDqgyYLNV6YNGxzGu1V.DZW6f/JFlVX.XaVQrzzE3PnU5JF2');
            INSERT INTO PUBLIC.USERS (ID, LOGIN, PASSWORD) VALUES (5, 'user 5',
            '$2a$10$elF3ETkvzBzuGR2XJY/I3uxby0edfHfQHc8dC6yUZlsoNB0kjcAIW');

            create table MESSAGES
            (
            ID INTEGER AUTO_INCREMENT(1,1) PRIMARY KEY,
            USER_ID INTEGER not null,
            MESSAGE VARCHAR(200) not null
            )
            ;
            comment on table MESSAGES is 'Сообщения пользователей'
            ;

            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (7, 1, 'Здравствуйте');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (8, 2, 'Привет');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (9, 3, 'Здарова');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (10, 1, 'Как у вас всех дела ?');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (11, 4, 'Салют!');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (12, 4, 'Нормально, потянет :)');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (13, 2, 'Хорошо');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (14, 3, 'Так себе. Бывало и лучше');
            INSERT INTO PUBLIC.MESSAGES (ID, USER_ID, MESSAGE) VALUES (15, 1, 'user 3. А чё такое ?');

            create table ROLES
            (
            ID INTEGER AUTO_INCREMENT(1,1) primary key,
            NAME VARCHAR(50) not null
            constraint ROLES_NAME_UINDEX
            unique
            )
            ;

            comment on table ROLES is 'Справочник ролей';

            INSERT INTO PUBLIC.ROLES (ID, NAME) VALUES (1, 'CLIENT');


            create table USERROLE
            (
            ID INTEGER AUTO_INCREMENT(1,1)
            primary key,
            USER_ID INTEGER not null,
            ROLE_ID INTEGER not null
            )
            ;

            comment on table USERROLE is 'Роли пользователей'
            ;

            INSERT INTO PUBLIC.USERROLE (ID, USER_ID, ROLE_ID) VALUES (1, 1, 1);
            INSERT INTO PUBLIC.USERROLE (ID, USER_ID, ROLE_ID) VALUES (2, 2, 1);
            INSERT INTO PUBLIC.USERROLE (ID, USER_ID, ROLE_ID) VALUES (3, 3, 1);
            INSERT INTO PUBLIC.USERROLE (ID, USER_ID, ROLE_ID) VALUES (4, 4, 1);
            INSERT INTO PUBLIC.USERROLE (ID, USER_ID, ROLE_ID) VALUES (5, 5, 1);

        </sql>
    </changeSet>
</databaseChangeLog>